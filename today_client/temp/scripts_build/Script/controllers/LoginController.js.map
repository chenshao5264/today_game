{"version":3,"sources":["assets/Script/controllers/LoginController.js"],"names":["http","require","cc","Class","extends","Component","properties","btnRegister","default","type","Button","btnLogin","ebxAccount","EditBox","ebxPasswrod","labelLoginRet","Label","onBtnRegister","event","data","self","string","account","pwd","url","get_http","res","console","log","errcode","onBtnLogin","Number","director","loadScene","onLoad"],"mappings":";;;;;;AAAA,IAAIA,OAAOC,QAAQ,eAAR,CAAX;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SADL;AAKRC,kBAAU;AACNH,qBAAS,IADH;AAENC,kBAAMP,GAAGQ;AAFH,SALF;AASRE,oBAAY;AACRJ,qBAAS,IADD;AAERC,kBAAMP,GAAGW;AAFD,SATJ;AAaRC,qBAAa;AACTN,qBAAS,IADA;AAETC,kBAAMP,GAAGW;AAFA,SAbL;AAiBRE,uBAAe;AACXP,qBAAS,IADE;AAEXC,kBAAMP,GAAGc;AAFE;AAjBP,KAHP;;AA0BLC,mBAAe,uBAASC,KAAT,EAAgBC,IAAhB,EAAsB;AACjC,YAAIC,OAAO,IAAX;AACAA,aAAKL,aAAL,CAAmBM,MAAnB,GAA4B,SAA5B;;AAEA,YAAIC,UAAUF,KAAKR,UAAL,CAAgBS,MAA9B;AACA,YAAIE,MAAUH,KAAKN,WAAL,CAAiBO,MAA/B;AACA,YAAIG,MAAU,4CAA4CF,OAA5C,GAAsD,YAAtD,GAAqEC,GAAnF;AACAvB,aAAKyB,QAAL,CAAcD,GAAd,EAAmB,UAASE,GAAT,EAAc;AAC7BC,oBAAQC,GAAR,CAAYF,GAAZ;AACA,gBAAIA,IAAIG,OAAJ,IAAe,CAAnB,EAAsB;AAClBT,qBAAKL,aAAL,CAAmBM,MAAnB,GAA4B,MAA5B;AACH,aAFD,MAEO,IAAIK,IAAIG,OAAJ,IAAe,CAAnB,EAAsB;AACzBT,qBAAKL,aAAL,CAAmBM,MAAnB,GAA4B,WAA5B;AACH;AACJ,SAPD;AAQH,KAzCI;;AA2CLS,gBAAY,oBAASZ,KAAT,EAAgBC,IAAhB,EAAsB;AAC9B,YAAIC,OAAO,IAAX;;AAEAA,aAAKL,aAAL,CAAmBM,MAAnB,GAA4B,SAA5B;;AAEA,YAAIC,UAAUF,KAAKR,UAAL,CAAgBS,MAA9B;AACA,YAAIE,MAAUH,KAAKN,WAAL,CAAiBO,MAA/B;AACA,YAAIG,MAAU,yCAAyCF,OAAzC,GAAmD,YAAnD,GAAkEC,GAAhF;;AAEAvB,aAAKyB,QAAL,CAAcD,GAAd,EAAmB,UAASE,GAAT,EAAc;AAC7BC,oBAAQC,GAAR,CAAYF,GAAZ;AACA,gBAAIK,OAAOL,IAAIG,OAAX,KAAuB,CAA3B,EAA8B;AAC1BT,qBAAKL,aAAL,CAAmBM,MAAnB,GAA4B,MAA5B;AACAnB,mBAAG8B,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACH,aAHD,MAGO,IAAIF,OAAOL,IAAIG,OAAX,KAAuB,CAA3B,EAA8B;AACjCT,qBAAKL,aAAL,CAAmBM,MAAnB,GAA4B,cAA5B;AACH;AACJ,SARD;AASH,KA7DI;;AA+DL;AACAa,YAAQ,kBAAY,CAEnB;;AAlEI,CAAT","file":"unknown","sourcesContent":["var http = require(\"../utils/http\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        btnRegister: {\n            default: null,\n            type: cc.Button\n        },\n        btnLogin: {\n            default: null,\n            type: cc.Button\n        },\n        ebxAccount: {\n            default: null,\n            type: cc.EditBox\n        },\n        ebxPasswrod: {\n            default: null,\n            type: cc.EditBox\n        },\n        labelLoginRet: {\n            default: null,\n            type: cc.Label\n        }\n    },\n\n    onBtnRegister: function(event, data) {\n        var self = this;\n        self.labelLoginRet.string = \"正在注册...\"\n\n        var account = self.ebxAccount.string;\n        var pwd     = self.ebxPasswrod.string;\n        var url     = \"http://localhost:9000/register?account=\" + account + \"&password=\" + pwd;\n        http.get_http(url, function(res) {\n            console.log(res);\n            if (res.errcode == 0) {\n                self.labelLoginRet.string = \"注册成功\";\n            } else if (res.errcode == 1) {\n                self.labelLoginRet.string = \"注册失败,账号重复\";\n            }\n        });\n    },\n\n    onBtnLogin: function(event, data) {\n        var self = this;\n\n        self.labelLoginRet.string = \"正在登录...\"\n\n        var account = self.ebxAccount.string;\n        var pwd     = self.ebxPasswrod.string;\n        var url     = \"http://localhost:9000/login?account=\" + account + \"&password=\" + pwd;\n\n        http.get_http(url, function(res) {\n            console.log(res);\n            if (Number(res.errcode) == 0) {\n                self.labelLoginRet.string = \"登陆成功\";\n                cc.director.loadScene(\"HallScene\");\n            } else if (Number(res.errcode) == 1) {\n                self.labelLoginRet.string = \"登陆失败,账号或密码错误\";\n            }\n        });\n    },\n\n    // use this for initialization\n    onLoad: function () {\n\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}